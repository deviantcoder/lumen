{% load widget_tweaks %}
{% load static %}
<form method="POST" action="{% url 'posts:create_post' %}" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="mb-3 text-start">
        <label class="form-label fw-semibold">Media:</label>
        <div id="dropzone" class="dropzone rounded-4 p-5 text-center bg-dark-subtle">
            <p class="text-muted mb-2">Drag & drop files here or click to select</p>
            <input 
                type="file" 
                id="file-input" 
                name="files" 
                multiple 
                hidden
            >
            <button type="button" class="btn btn-outline-light rounded-pill" onclick="document.getElementById('file-input').click()">
                Select Files
            </button>
        </div>
        <div id="file-list" class="mt-3 text-muted small"></div>
    </div>
    <div class="mb-3 text-start">
        <i class="bi bi-body-text me-2"></i> 
        <label class="form-label fw-semibold" for="username">Caption:</label>
        {% render_field form.caption class="form-control p-3 rounded-4" %}
    </div>
    <button type="submit" class="btn btn-outline-light w-100 mt-2 rounded-pill p-3 fw-bold">Create Post</button>
</form>
<script src="{% static 'js/dropzone.js' %}"></script>
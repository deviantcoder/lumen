{% load humanize %}

<div id="comment-{{ node.pk }}" class="d-flex mb-3 bg-dark-subtle rounded-3 p-2">
    <img src="{{ node.user.profile.image_or_default }}" class="rounded-circle me-2" width="32" height="32" alt="avatar">
    <div>
        <span class="fw-bold text-white small">{{ node.user.username }}</span>
        <span class="text-white small">{{ node.body }}</span>
        <div class="d-flex gap-3 mt-1">
            <span class="text-muted small">{{ node.created|naturaltime }}</span>
            {% if node.level < 4 %}
                <a href="" class="fw-bold text-muted text-decoration-none small"
                    hx-get="{% url 'posts:reply_form' node.post.pk node.pk %}"
                    hx-target="#reply-form-container-{{ node.pk }}"
                    hx-swap="innerHTML"
                >Reply</a>
            {% endif %}
        </div>
    </div>
</div>
<div id="reply-form-container-{{ node.pk }}" class="ms-5"></div>
{% if node.parent %}
    <div id="reply-form-{{ node.parent.pk }}" hx-swap-oob="delete"></div>
{% endif %}

{% load widget_tweaks %}

<div class="mb-3">
    <div class="d-flex justify-content-between align-items-center">
        <span class="text-muted fw-bold">Filter Posts</span>
        <button class="btn btn-sm btn-dark"
            type="button"
            data-bs-toggle="collapse" 
            data-bs-target="#filterCollapse"
            aria-expanded="false" 
            aria-controls="filterCollapse"
        >
            <span class="small fw-bold text-muted">Open Filters</span>
        </button>
    </div>
    <div class="collapse" id="filterCollapse">
        <form id="filterForm" method="GET"
            hx-get="{{ filter_url }}"
            hx-target="#posts"
            hx-swap="innerHTML"
        >
            <div class="d-flex align-items-center justify-content-between mb-2 gap-2">
                <div class="w-50">
                    <span class="small fw-semibold text-muted">{{ filter.form.start_date.label }}</span>
                    {% render_field filter.form.start_date class="form-control rounded-3 border-0" %}
                </div>
                <div class="w-50">
                    <span class="small fw-semibold text-muted">{{ filter.form.end_date.label }}</span>
                    {% render_field filter.form.end_date class="form-control rounded-3 border-0" %}
                </div>
            </div>
            <button class="btn btn-sm btn-dark w-100 rounded-3" type="submit">
                <i class="bi bi-funnel small me-1"></i> <span class="fw-bold">Filter</span>
            </button>
        </form>
    </div>
</div>